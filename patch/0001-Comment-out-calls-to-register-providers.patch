From bcb42c2f47ff4c5c0478bac7c224799e42fe6144 Mon Sep 17 00:00:00 2001
From: Sebastiaan van Steenis <mail@superseb.nl>
Date: Wed, 28 Dec 2016 11:30:27 +0100
Subject: [PATCH] Comment out calls to register providers

---
 builtin/providers/azurerm/config.go   | 6 +++---
 builtin/providers/azurerm/provider.go | 8 ++++----
 2 files changed, 7 insertions(+), 7 deletions(-)

diff --git a/builtin/providers/azurerm/config.go b/builtin/providers/azurerm/config.go
index 48d50f9..bd6221e 100644
--- a/builtin/providers/azurerm/config.go
+++ b/builtin/providers/azurerm/config.go
@@ -149,9 +149,9 @@ func (c *Config) getArmClient() (*ArmClient, error) {
 	// namespace registration instead of a simple OAuth token refresh guarantees that
 	// service delegation is correct. This has the effect of registering Microsoft.Compute
 	// which is neccessary anyway.
-	if err := registerProviderWithSubscription("Microsoft.Compute", rivieraClient); err != nil {
-		return nil, err
-	}
+	//if err := registerProviderWithSubscription("Microsoft.Compute", rivieraClient); err != nil {
+	//	return nil, err
+	//}
 	client.rivieraClient = rivieraClient
 
 	oauthConfig, err := azure.PublicCloud.OAuthConfigForTenant(c.TenantID)
diff --git a/builtin/providers/azurerm/provider.go b/builtin/providers/azurerm/provider.go
index ab545b2..2889010 100644
--- a/builtin/providers/azurerm/provider.go
+++ b/builtin/providers/azurerm/provider.go
@@ -167,10 +167,10 @@ func providerConfigure(p *schema.Provider) schema.ConfigureFunc {
 
 		client.StopContext = p.StopContext()
 
-		err = registerAzureResourceProvidersWithSubscription(client.rivieraClient)
-		if err != nil {
-			return nil, err
-		}
+		//err = registerAzureResourceProvidersWithSubscription(client.rivieraClient)
+		//if err != nil {
+		//	return nil, err
+		//}
 
 		return client, nil
 	}
-- 
2.10.2

